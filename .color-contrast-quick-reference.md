# Color Contrast Quick Reference

**For Developers and Designers**

---

## Status Summary

**Current State:** ⚠️ 4 critical contrast issues found
**After Fixes:** ✅ All issues will meet WCAG 2.1 AA

---

## Quick Fixes (Copy-Paste Ready)

### 1. Fix Focus Indicators (CRITICAL)

**File:** `apps/web/src/app.css`

**Light theme (line 26):**

```css
/* BEFORE */
--ring: oklch(0.709 0.01 56.259);

/* AFTER */
--ring: oklch(0.4 0.02 56.259);
```

**Light theme (line 39):**

```css
/* BEFORE */
--sidebar-ring: oklch(0.709 0.01 56.259);

/* AFTER */
--sidebar-ring: oklch(0.4 0.02 56.259);
```

**Impact:** Fixes keyboard navigation accessibility
**Contrast improvement:** 2.30:1 → 6:1 ✅

---

### 2. Fix Secondary Text (SERIOUS)

**File:** `apps/web/src/app.css`

**Light theme (line 20):**

```css
/* BEFORE */
--muted-foreground: oklch(0.553 0.013 58.071);

/* AFTER */
--muted-foreground: oklch(0.48 0.015 58.071);
```

**Impact:** Fixes helper text, labels, metadata readability
**Contrast improvement:** 4.15:1 → 5:1 ✅

---

### 3. Fix Destructive Text (SERIOUS)

**File:** `apps/web/src/app.css`

**Light theme (line 23):**

```css
/* BEFORE */
--destructive: oklch(0.577 0.245 27.325);

/* AFTER */
--destructive: oklch(0.48 0.2 27.325);
```

**Impact:** Fixes error message and delete button readability
**Contrast improvement:** 3.46:1 → 4.8:1 ✅

---

### 4. Improve Dark Mode Focus (Optional but Recommended)

**File:** `apps/web/src/app.css`

**Dark theme (line 60):**

```css
/* BEFORE */
--ring: oklch(0.553 0.013 58.071);

/* AFTER */
--ring: oklch(0.45 0.02 58.071);
```

**Dark theme (line 73):**

```css
/* BEFORE */
--sidebar-ring: oklch(0.553 0.013 58.071);

/* AFTER */
--sidebar-ring: oklch(0.45 0.02 58.071);
```

**Impact:** Better margin above 3:1 requirement
**Contrast improvement:** 3.54:1 → 5:1 ✅

---

## How OKLCH Works

```
oklch(L C H)
│   │ │ │
│   │ │ └─ Hue (0-360°, color on wheel)
│   │ └─── Chroma (0-0.4, saturation/grayscale)
│   └───── Lightness (0-1, black to white)
└───────── Format identifier
```

**To increase contrast on light backgrounds:**

- Decrease L (lightness)
- Example: oklch(0.7 ...) → oklch(0.4 ...) = darker = better contrast

**To increase contrast on dark backgrounds:**

- Increase L (lightness)
- Example: oklch(0.3 ...) → oklch(0.6 ...) = lighter = better contrast

---

## Common Use Cases

### When to use `foreground` vs `muted-foreground`

```svelte
<!-- Main content - use foreground -->
<p class="text-foreground">Important text</p>

<!-- Secondary info - use muted-foreground -->
<p class="text-muted-foreground">Helper text, metadata, timestamps</p>

<!-- After fix: Both will be accessible -->
```

### When to use `destructive` color

```svelte
<!-- Error messages - text must have 4.5:1 contrast -->
<Alert class="text-destructive">Error: Something went wrong</Alert>

<!-- Delete buttons - ensure text passes contrast -->
<Button variant="destructive">Delete Account</Button>

<!-- Before fix: Use with caution, test for readability -->
<!-- After fix: Safe to use for text -->
```

### Focus indicators

```css
/* Focus rings automatically use --ring color */
*:focus-visible {
  outline: 2px solid var(--ring);
  outline-offset: 2px;
}

/* After fix: Focus will be clearly visible */
```

---

## Testing Checklist

After applying fixes:

- [ ] Run automated audit: `bun run scripts/color-contrast-audit.ts`
- [ ] Tab through application - verify focus is visible
- [ ] Read all helper text, labels, timestamps
- [ ] Check error messages in forms
- [ ] Test in both light and dark themes
- [ ] Test on mobile and desktop
- [ ] Run axe-core in browser DevTools
- [ ] Run Lighthouse accessibility audit

---

## WCAG 2.1 AA Quick Reference

| Content            | Minimum Ratio | AAA Level |
| ------------------ | ------------- | --------- |
| Body text          | 4.5:1         | 7:1       |
| Large text (18pt+) | 3:1           | 4.5:1     |
| Icons/graphics     | 3:1           | -         |
| Focus indicators   | 3:1           | -         |
| UI components      | 3:1           | -         |

**Key point:** Borders have NO contrast requirement (they're decorative)

---

## Contact

**Questions about color contrast?**

- Check full report: `.color-contrast-analysis-report.md`
- Audit tool: `scripts/color-contrast-audit.ts`
- WCAG guidelines: https://www.w3.org/WAI/WCAG21/Understanding/contrast-minimum.html

---

**Last Updated:** 2026-01-26
**Status:** Fixes identified, ready to implement
